!function(G,D){function JSONParse(str){if(!str)return null;var params=eval("("+str+")"),nextParams={};for(var key in params)nextParams[key]=decode(params[key]);return nextParams}function JSONStringify(t){var e=[];for(var n in t)e.push('"'+encode(n)+'":"'+encode(t[n])+'"');return"{"+e.join(",")+"}"}function addPrefixforObjectKey(t,e){var n,r={};for(n in t)r[e+n]=t[n];return r}function arrayIndexOf(t,e){if(null!=Array.prototype.indexOf)return t.indexOf(e);for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}function bind(t,e){var n,r,i=Function.prototype.bind,o=Array.prototype.slice;if(i&&t.bind===i)return i.apply(t,o.call(arguments,1));if(!isFunction(t))throw new TypeError;return n=o.call(arguments,2),r=function(){if(!(this instanceof r))return t.apply(e,n.concat(o.call(arguments)));var i={};i.prototype=t.prototype;var a=new i;i.prototype=null;var s=t.apply(a,n.concat(o.call(arguments)));return Object(s)===s?s:a}}function decode(t){return decodeURIComponent(t)}function encode(t){return encodeURIComponent(t)}function extend(t,e,n){var r,i={};if(n){for(r in t)i[r]=t[r];for(r in e)i[r]=e[r];return i}for(r in e)t[r]=e[r];return t}function formatParams(t){var e,n,r=[];for(e in t)n=t[e],void 0!==n&&""!==n&&null!==n&&r.push(e+"="+encode(n));return r.join("&")}function getJSON(t,e){var n,r=guid();G[r]=function(){e.apply(G,arguments),n.parentNode.removeChild(n),G[r]=null},t+="&jsonp="+r,n=getScript(t)}function getLoadTime(){if(window.performance&&window.performance.timing){var t=window.performance.timing.navigationStart,e=window.performance.timing.loadEventStart;if(e>0&&t>0)return e-t;if(t>0)return(new Date).getTime()-t}return null}function getOffset(t){var e=document&&document.documentElement,n={top:0,left:0};return void 0!==t.getBoundingClientRect&&(n=t.getBoundingClientRect()),e&&(n={top:n.top+(window.pageYOffset||e.scrollTop)-(e.clientTop||0),left:n.left+(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}),n}function getPageTitle(){if(document.title)return document.title;var t=document.getElementsByTagName("title")[0];return t?t.innerText:null}function getQueryString(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),n=window.location.search.substr(1).match(e);return null!==n?unescape(n[2]):null}function getReferrer(){var t;try{t=G.top.document.referrer}catch(e){log(e);try{t=G.parent.document.referrer}catch(n){log(n),t=document.referrer}}return t}function getScript(t){var e=D.createElement("script"),n=D.getElementsByTagName("head")[0];return e.type="text/javascript",e.charset="utf-8",e.src=t,n.insertBefore(e,n.firstChild),e}function guid(){return"_"+(1e18*Math.random()).toString(36).slice(0,5).toUpperCase()}function isArray(t){return"[object Array]"===Object.prototype.toString.call(t)}function isFunction(t){return"function"==typeof t}function isNumber(t){return/^[0-9]+$/.test(t)}function isObject(t){return"[object Object]"===Object.prototype.toString.call(t)}function log(t,e){if(e=e||"log",G.console&&G.console[e]&&(DEBUG||G._tracker_debug))G._tracker_logs||(G._tracker_logs=[]),G._tracker_logs.push(e+":"+t),G.console[e]("t : "+t);else if("throw"===e)throw t+" >> http://developers.hypers.com.cn/website/debug.html"}function noop(){}function offEvent(t,e,n){return G.addEventListener?(t.removeEventListener(e,n),t):(t.detachEvent(e,n),t)}function onEvent(t,e,n,r){return document.addEventListener?(t.addEventListener(e,n,r),t):(t.attachEvent("on"+e,function(){return n.call(t,window.event)}),t)}function toLowerCaseKeyByObject(t){var e,n={};for(e in t)n[e.toLowerCase()]=t[e];return n}function trim(t){return t?t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""):t}function getEventTarget(t){return"undefined"==typeof t.target?t.srcElement:t.target}function isElementNode(t){return t&&1===t.nodeType}function isTag(t,e){return t&&t.tagName&&t.tagName.toLowerCase()===e.toLowerCase()}function shouldTrackDomEvent(t,e){if(!t||isTag(t,"html")||!isElementNode(t))return!1;var n=t.tagName.toLowerCase();switch(n){case"html":return!1;case"form":return"submit"===e.type;default:return"click"===e.type}}function shouldTrackAllowedElement(t,e){var n=["a","button","img","input","form"],r=t.tagName.toLowerCase(),i=t.getAttribute("type");return arrayIndexOf(n,r)>-1&&(("input"!==r||"button"===i||"submit"===i)&&("form"!==r||"submit"===e.type))}function shouldTrackElement(t,e,n){var r=getClassName(t);return!(r.indexOf("hwt-no-track")>-1)&&(!!shouldTrackAllowedElement(t,n)||!!e)}function getClassName(t){switch(typeof t.className){case"string":return t.className;case"object":return t.className.baseVal||t.getAttribute("class")||"";default:return""}}function isTextNode(t){return t&&3===t.nodeType}function getSafeText(t){var e=trim(t.innerText);return e||(e=t.getAttribute("title")),e&&(e=e.replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)),trim(e)}function getElementKey(t){var e=t.tagName.toLowerCase(),n=trim(getClassName(t)),r=t.getAttribute("id");return r&&(e+="#"+r),!r&&n&&(e+="."+n.replace(/\ +/g,".")),e}function getSafeOffset(t,e){var n=getOffset(t),r=t.offsetWidth,i=t.offsetHeight,o=n.left+r,a=n.top+i,s=e.clientX&&e.clientX>n.left&&e.clientX<o?e.clientX:n.left,c=e.clientY&&e.clientY>n.top&&e.clientY<a?e.clientY:n.top;return{x:Math.round(s),y:Math.round(c)}}function getTargetElement(t,e){if(!t)return null;for(var n=0;n<t.length;n++){var r=t[n];if(shouldTrackAllowedElement(r,e))return r}return t[0]}function AutoTrack(t){this.tracker=t,this._trackEvent=function(t){var e=getEventTarget(t);isTextNode(e)&&(e=e.parentNode);var n,r,i,o=this.tracker.options.heatmap,a=this.tracker.options.auto_track;if(shouldTrackDomEvent(e,t)){for(var s=[e],c=e;c.parentNode&&!isTag(c,"body");)s.push(c.parentNode),c=c.parentNode;r=getTargetElement(s,t),i=null;for(var l=0;l<s.length;l++){var u=s[l],h=u.tagName.toLowerCase();r===u&&shouldTrackElement(u,o,t)&&!i&&(i=[]),i&&i.push(getElementKey(u)),"a"===h&&(n=u.getAttribute("href"))}}if(r&&i){var d=getSafeOffset(e,t),f=i.reverse().join(">"),p=r.tagName.toLowerCase(),g="form"!==p?getSafeText(r):"",m="submit"===t.type,v={e_auto:a&&shouldTrackAllowedElement(r,t)?1:null,e_heatmap:o?1:null,e_type:t.type,e_x:m?null:d.x||null,e_y:m?null:d.y||null,el_tag:p,el_href:n,el_text:g,el_path:f};this.tracker.trackEvent(v)}},this._addDOMEventHandlers=function(){var t=bind(this._trackEvent,this);onEvent(document,"click",t,!0),onEvent(document,"submit",t,!0)},this._loadAddons=function(){var t=this.tracker.options.heatmap_url,e=getQueryString("_hwt_addon");"heatmap"===e&&getScript(t)},this.init=function(){this._addDOMEventHandlers(),this._loadAddons()}}function ComboStorage(t){this.localStorage=new LocalStorage(t),this.cookie=new CookieStorage(t),this.set=function(t,e){this.localStorage.available&&this.localStorage.set(t,e),this.cookie.set(t,e,{expires:730})},this.get=function(t){var e=null;return this.localStorage.available&&(e=this.localStorage.get(t)),e?e:this.cookie.get(t)}}function Controller(){function t(){for(var t=null,e=0;e<MMA_PARAMS.length;e++){var n=MMA_PARAMS[e];if(n){var r=n[0],i=getQueryString(r);i&&(t||(t={}),t[r]=i)}}return t}function e(t){for(var e=null,n=0;n<MMA_PARAMS.length;n++){var r=MMA_PARAMS[n],i=r[0],o=t[i];o&&(e||(e={}),e[r[1]]=o)}return e}this.trackers={},this.create=function(arguments,n,r){var i,o=arguments[0],a=arguments[1],s=arguments[2];o||log("14001","throw"),G[n]=G[n]||{},i=new WebTracker(n),i.ua=o,i.alias=r,i.options=compatibleOption(extend(i.options,extend(OPTIONS,toLowerCaseKeyByObject(a),!0))),i.options.id&&(i.options.storage_id=i.options.id),a&&(a.auto_track||a.heatmap)&&(i.evt=new AutoTrack(i),i.evt.init()),i.options.scroll_event&&(i.scrollAction=new ScrollAction(i),i.scrollAction.init()),i.options.error_event&&(i.errorAction=new ErrorAction(i),i.errorAction.init()),i.options.visibility_event&&(i.visibilityAction=new VisibilityAction(i),i.visibilityAction.init());var c=i.options.storage_id,l=new ComboStorage(n.toLocaleUpperCase());i.storage=l;var u=t();if(u&&(i.MMAParams=e(u)),i[c]=l.get("hid"),l.localStorage.available){var h=l.localStorage.get("MMA");u?l.localStorage.set("MMA",JSONStringify(u)):h&&(i.MMAParams=e(JSONParse(h)))}return this.trackers[r]=i,isFunction(s)&&s(),this},this.enable=function(arguments,t,e){arguments[0];return arguments.length?this:void(this.trackers[e].available=!0)},this.send=function(arguments,t,e){var n=arguments.splice(0,1)[0];return this.trackers[e][n](arguments),this},this.set=function(arguments,t,e){function n(t,arguments){if(isObject(arguments[0]))return extend(t.options,arguments[0]),void(isFunction(arguments[1])&&arguments[1](t));if(arguments.length>=2){var e=arguments[0],n=arguments[1],r=arguments[2],i=t.options[e];return t.options[e]=i?extend(i,n,!0):n,void(isFunction(r)&&r(t))}}return this.trackers[e]?(n(this.trackers[e],arguments),this):void console.error("`WebTracker` is not defined. ===> http://dev.hypers.com.cn/tracker/website/api-create.html")},this.identify=function(arguments,t,e){var n=arguments[0],r={};if(null===n||void 0===n)throw"identify params is undifined";isObject(n)?r=n:"string"!=typeof n&&"number"!=typeof n||(r.muid=n),this.trackers[e].identifyParams=r},this.track=function(arguments,t,e){e="_v1_2_v1_3",isObject(arguments[0])?arguments.splice(0,0,arguments[0].UA):arguments.splice(0,1,arguments[1].UA),this.create(arguments,t,e),this.send(["pageview"],t,e)}}function CookieStorage(t){this.id=t,this.set=function(t,e,n){if("undefined"!=typeof document){n=extend({path:"/"},n),"number"==typeof n.expires&&(n.expires=new Date(1*new Date+864e5*n.expires)),n.expires=n.expires?n.expires.toUTCString():"";var r="";for(var i in n)n[i]&&(r+="; "+i,n[i]!==!0&&(r+="="+n[i].split(";")[0]));return document.cookie=this.id+"_"+t+"="+e+r}},this.get=function(t){var e={},n=document.cookie?document.cookie.split("; "):[],r=0;for(t=this.id+"_"+t;r<n.length;r++){var i=n[r].split("="),o=i[0],a=i.slice(1).join("=");if('"'===a.charAt(0)&&(a=a.slice(1,-1)),e[o]=a,t===o)break}return t?e[t]:e}}function ErrorAction(t){this.tracker=t,this.init=function(){this.bindErrorEvent()},this.handleError=function(t){t&&"string"==typeof t.message&&this.tracker.action(["_error",{_err_msg:t.message.substring(0,255)}])},this.bindErrorEvent=function(){var t=bind(this.handleError,this);onEvent(window,"error",t,!0)}}function HyperAnalytics(t,e){if(G[e].controller=G[e].controller||new Controller,this.push=function(arguments){var t,n,r="default";if(arguments=[].slice.apply(arguments),arguments.length)return t=arguments.splice(0,1)[0],n=t.split("."),"create"===t&&arguments[1]&&arguments[1].name&&(r=arguments[1].name),n.length>1&&(r=n[0],t=n[1]),G._ha_disable?void log("_ha is disabled"):G["_ha_disable_"+r]?void log("_ha ["+r+"]  is disabled"):G[e].controller[t]?void G[e].controller[t](arguments,e,r):void log(t+"  is not defined")},t&&t.length)for(var n=0;n<t.length;n++)this.push(t[n])}function LocalStorage(t){if(!t)throw Error("id is not defined");try{if(!G.localStorage)return{available:!1}}catch(e){return log(e),{available:!1}}this.id=t,this.available=!0,this.set=function(t,e){localStorage.setItem(this.id+"_"+t,e)},this.get=function(t){return localStorage.getItem(this.id+"_"+t)}}function getScrollTop(){var t=0,e=0,n=0;return document.body&&(e=document.body.scrollTop),document.documentElement&&(n=document.documentElement.scrollTop),t=e-n>0?e:n}function getScrollHeight(){var t=0,e=0,n=0;return document.body&&(e=document.body.scrollHeight),document.documentElement&&(n=document.documentElement.scrollHeight),t=e-n>0?e:n}function getClientHeight(){var t=0;return t="CSS1Compat"==document.compatMode?document.documentElement.clientHeight:document.body.clientHeight}function ScrollAction(t){this.tracker=t,this.scrolltraced={},this.scrollHeight=0,this.clientHeight=0,this.scrollTop=0,this.scrollEnd=!1,this.init=function(){this.bindScrollEvent();var t=this.tracker.options.scroll_gap;this.scrollTop=(Math.ceil(getClientHeight()/t)-1)*t},this.track=function(t){this.scrolltraced[t]||this.scrollEnd||(this.scrollTop=t,this.scrolltraced[t]=1,this.tracker.action(["_scroll",{_scroll_len:this.scrollHeight,_scroll_i:t}]))},this.handleScroll=function(){this.scrollHeight=getScrollHeight(),this.clientHeight=getClientHeight();var t=getScrollTop(),e=this.tracker.options.scroll_gap,n=this.scrollTop+e;t+this.clientHeight>=n&&this.track(n),this.clientHeight+t>this.scrollHeight-10&&(this.track(this.scrollHeight),this.scrollEnd=!0)},this.bindScrollEvent=function(){var t=bind(this.handleScroll,this);onEvent(window,"scroll",t)}}function VisibilityAction(t){this.tracker=t,this.init=function(){this.bindVisibilityChangeEvent()},this.handleVisibilityChange=function(t){this.tracker.action(["_"+document.visibilityState])},this.bindVisibilityChangeEvent=function(){if(document.visibilityState){var t=bind(this.handleVisibilityChange,this);onEvent(window,"visibilitychange",t,!0)}}}function WebTracker(t){this.options={title:getPageTitle(),params:{}},this.available=!0,this.ua=0,this.logs=[],this.MMAParams=null,this.storage=null,this.pageview=function(arguments){var t={},e=arguments[0]||{},n=arguments[1],r=e.url||this.options.url;return"_v1_1"!==this.alias&&(r&&!r.substr(0,8).match(/https?:\/\//)&&(r=[G.location.protocol,"//",G.location.hostname,"/"==r.substr(0,1)?"":"/",r].join("")),t.url=r),t.title=e.title||this.options.title,t.lt=getLoadTime(),extend(t,addPrefixforObjectKey(e.params,"p_")),request.call(this,"pv",t,n),this},this.action=function(arguments){var t=arguments[0],e=addPrefixforObjectKey(arguments[1],"p_"),n=arguments[2];return e.act_name=t,request.call(this,"act",e,n),this},this.form=function(arguments){var t=arguments[0],e=arguments[1];return request.call(this,"form",t,e),this},this.trackEvent=function(t,e){request.call(this,"evt",t,e)}}function request(t,e,n){if(!this.available)return void log("This is a disabled Tracker");var r,i,o=this.options.storage_id||"_hid",a=extend(addPrefixforObjectKey(this.options.params,"p_"),e,!0),s={};a.type=t,this.MMAParams&&(extend(a,this.MMAParams),s._z="_",a.cross=1),this[o]&&"null"!==this[o]&&(s[o]=this[o]),this.options.with_ref&&(r=getReferrer())&&/.*[\u4e00-\u9fa5]+.*$/.test(r)&&(r=encodeURI(r)),a.ref=r;var c=this.options.env;for(var o in c)s["_"+o]=c[o];if(this.options.muid&&(a.muid=this.options.muid),this.options.uid&&(a.uid=this.options.uid),this.identifyParams){var l=this.identifyParams;for(var o in l)a[encode(o)]=encode(l[o])}a.uid&&(s._z="_"),a["char"]=CHARSET,a.lang=LANGUAGE,a.sr=RESOLUTION,a.sd=COLORDEPTH,a.v=this.options.version,s._ua=this.ua,"undefined"==typeof a.url&&(a.url=document.URL||window.location.href);var u="form"===a.type?"form":this.options.api_type,h="";this.options.encode?(s._d=Base64.encode(JSONStringify(a)),h=formatParams(s)):h=formatParams(extend(a,s)),i=this.options.api_url+"/"+u+"?"+h;var d=this;getJSON(i,function(t){d[d.options.storage_id]=t,d.storage&&d.storage.set("hid",t),handleStorageCompletion(t),isFunction(n)&&n(d,i),DEBUG&&d.logs.push(i)})}function handleStorageCompletion(t){var e=G.HWT_ID_READY_CALL_ONCE;e&&(isFunction(e)?e(t):isFunction(G[e])?G[e](t):getScript(e),handleStorageCompletion=noop)}function compatibleOption(t){function e(t,e){return t=t.replace(/\/(hwt|hmt)\?[^\s]*/,"").replace(/https?:/,""),"/"===t[t.length-1]&&(t=t.substr(0,t.length-1)),(e?"https:":PROTOCOL)+t}return t.api_url&&(t.api_url=e(t.api_url,t.force_ssl)),t}function compatibleVersion(){if(G._hwtTQ){var t="_ha",e="_v1_1";G[t]||(G[t]=function(){return(G[t].q=G[t].q||[]).push(arguments)}),G[t].controller=G[t].controller||new Controller;for(var n,r=G._hwtTQ;n=r.shift();)n.splice(0,0,n[0].UA),G[t].controller.create(n,t,e),G[t].controller.send(["pageview"],t,e);G._hwt={track:function(n,r){G[t].controller.send(["pageview"],t,e)}}}}var PROTOCOL="https:"===D.location.protocol?"https:":"http:",DEBUG=getQueryString("_debug")||G._debug,CHARSET=D.charset||D.characterSet,LANGUAGE=navigator.language||navigator.userLanguage,RESOLUTION=G.screen.width+"x"+G.screen.height,COLORDEPTH=G.screen.colorDepth,OPTIONS={auto_track:!1,heatmap:!1,heatmap_url:"//analytics.hypers.com.cn/static/hwt-heatmap.js",force_ssl:!1,storage_id:"_hid",version:"1.12.1.20191025",with_ref:!0,api_url:"//t.hypers.com.cn/cgi-bin",api_type:"hwt",params:{},env:{inst:"saas"},encode:!1,scroll_event:!0,scroll_gap:2e3,error_event:!1,visibility_event:!0},MMA_PARAMS=[["h0","os"],["h1","imei"],["h2","androidid"],["h3","androidid1"],["h4","aaid"],["h5","mac"],["h6","mac1"],["h7","idfa"],["h8","openudid"],["h9","duid"]],Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(t){var e,n,r,i,o,a,s,c="",l=0;for(t=Base64._utf8_encode(t);l<t.length;)e=t.charCodeAt(l++),n=t.charCodeAt(l++),r=t.charCodeAt(l++),i=e>>2,o=(3&e)<<4|n>>4,a=(15&n)<<2|r>>6,s=63&r,isNaN(n)?a=s=64:isNaN(r)&&(s=64),c=c+this._keyStr.charAt(i)+this._keyStr.charAt(o)+this._keyStr.charAt(a)+this._keyStr.charAt(s);return c},_utf8_encode:function(t){t=t.replace(/\r\n/g,"n");for(var e="",n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e+=String.fromCharCode(r):r>127&&r<2048?(e+=String.fromCharCode(r>>6|192),e+=String.fromCharCode(63&r|128)):(e+=String.fromCharCode(r>>12|224),e+=String.fromCharCode(r>>6&63|128),e+=String.fromCharCode(63&r|128))}return e}};compatibleVersion(),function(){var t="undefined"==typeof G.HyperAnalyticsObject?"_hwt":G.HyperAnalyticsObject;if(isArray(t))for(var e=0;e<t.length;e++)isObject(G[t[e]].q)||(G[t[e]].q=new HyperAnalytics(G[t[e]].q,t[e]));else G[t]||(G[t]=function(){return(G[t].q=G[t].q||[]).push(arguments)}),G[t].q=new HyperAnalytics(G[t].q,t)}(),G.CHECK_OPTIONS_CALLBACK&&G.CHECK_OPTIONS_CALLBACK(OPTIONS)}(this,document);